# Nautilus Production Environment Configuration
# Copy this file to .env when deploying to production
# IMPORTANT: Never commit actual .env to git

# Application Settings
APP_NAME="Nautilus Dive Shop"
APP_ENV=production
APP_DEBUG=false
APP_URL=https://yourdomain.com
APP_TIMEZONE=America/Chicago

# Database Connection (Master/Default)
# For multi-tenant: This connects to the master DB that stores tenant configs
# Individual tenants can have their own DB credentials stored in tenants table
DB_HOST=production-db-server.example.com
DB_PORT=3306
DB_DATABASE=nautilus_master
DB_USERNAME=nautilus_prod
DB_PASSWORD=CHANGE_ME_STRONG_PASSWORD_HERE

# Multi-Tenant Configuration
MULTI_TENANT_MODE=isolated  # Options: shared, isolated, hybrid
REQUIRE_TENANT_DB_CONFIG=false  # Set to true to force all tenants to have dedicated DB
DEFAULT_TENANT_ID=1

# Security Settings
SESSION_DRIVER=database
SESSION_LIFETIME=120
SESSION_SECURE_COOKIE=true
SESSION_HTTP_ONLY=true
SESSION_SAME_SITE=strict

CACHE_DRIVER=redis
REDIS_HOST=production-redis.example.com
REDIS_PASSWORD=CHANGE_ME_REDIS_PASSWORD
REDIS_PORT=6379

# Encryption
APP_KEY=  # Generate with: php -r "echo bin2hex(random_bytes(16));"

# Mail Configuration
MAIL_MAILER=smtp
MAIL_HOST=smtp.example.com
MAIL_PORT=587
MAIL_USERNAME=noreply@yourdomain.com
MAIL_PASSWORD=CHANGE_ME_MAIL_PASSWORD
MAIL_ENCRYPTION=tls
MAIL_FROM_ADDRESS=noreply@yourdomain.com
MAIL_FROM_NAME="Nautilus Dive Shop"

# Stripe (Production Keys)
STRIPE_KEY=pk_live_XXXXX
STRIPE_SECRET=sk_live_XXXXX
STRIPE_WEBHOOK_SECRET=whsec_XXXXX

# Backup Settings
BACKUP_ENABLED=true
BACKUP_PATH=/var/backups/nautilus
BACKUP_RETENTION_DAYS=30
BACKUP_ENCRYPT=true

# Logging
LOG_LEVEL=warning
LOG_CHANNEL=daily
LOG_SLACK_WEBHOOK_URL=

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_MAX_ATTEMPTS=60
RATE_LIMIT_DECAY_MINUTES=1

# External Services
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_DEFAULT_REGION=us-east-1
AWS_BUCKET=

# Monitoring & Analytics
SENTRY_DSN=
GOOGLE_ANALYTICS_ID=

# Feature Flags
ENABLE_API=true
ENABLE_TWO_FACTOR_AUTH=true
ENABLE_AUDIT_LOG=true
ENABLE_IP_WHITELIST=false
