# Nautilus Staging Environment Configuration
# Copy this file to .env for staging environment
# Use this to test production-like settings before deploying

# Application Settings
APP_NAME="Nautilus Dive Shop (Staging)"
APP_ENV=staging
APP_DEBUG=true
APP_URL=https://staging.yourdomain.com
APP_TIMEZONE=America/Chicago

# Database Connection (Staging Database)
DB_HOST=staging-db-server.example.com
DB_PORT=3306
DB_DATABASE=nautilus_staging
DB_USERNAME=nautilus_staging
DB_PASSWORD=CHANGE_ME_STAGING_PASSWORD

# Multi-Tenant Configuration
MULTI_TENANT_MODE=shared  # Test with shared DB in staging
REQUIRE_TENANT_DB_CONFIG=false
DEFAULT_TENANT_ID=1

# Security Settings
SESSION_DRIVER=database
SESSION_LIFETIME=120
SESSION_SECURE_COOKIE=true
SESSION_HTTP_ONLY=true
SESSION_SAME_SITE=lax

CACHE_DRIVER=redis
REDIS_HOST=staging-redis.example.com
REDIS_PASSWORD=CHANGE_ME_STAGING_REDIS
REDIS_PORT=6379

# Encryption
APP_KEY=  # Generate with: php -r "echo bin2hex(random_bytes(16));"

# Mail Configuration (Use Mailtrap or similar for staging)
MAIL_MAILER=smtp
MAIL_HOST=smtp.mailtrap.io
MAIL_PORT=2525
MAIL_USERNAME=
MAIL_PASSWORD=
MAIL_ENCRYPTION=tls
MAIL_FROM_ADDRESS=staging@yourdomain.com
MAIL_FROM_NAME="Nautilus Staging"

# Stripe (Test Keys)
STRIPE_KEY=pk_test_XXXXX
STRIPE_SECRET=sk_test_XXXXX
STRIPE_WEBHOOK_SECRET=whsec_test_XXXXX

# Backup Settings
BACKUP_ENABLED=true
BACKUP_PATH=/var/backups/nautilus-staging
BACKUP_RETENTION_DAYS=7
BACKUP_ENCRYPT=false

# Logging
LOG_LEVEL=debug
LOG_CHANNEL=daily

# Rate Limiting (More lenient for testing)
RATE_LIMIT_ENABLED=true
RATE_LIMIT_MAX_ATTEMPTS=300
RATE_LIMIT_DECAY_MINUTES=1

# Feature Flags
ENABLE_API=true
ENABLE_TWO_FACTOR_AUTH=false
ENABLE_AUDIT_LOG=true
ENABLE_IP_WHITELIST=false
